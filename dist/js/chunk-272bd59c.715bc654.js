(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-272bd59c"],{"1dde":function(e,t,s){var r=s("d039"),n=s("b622"),a=s("2d00"),o=n("species");e.exports=function(e){return a>=51||!r((function(){var t=[],s=t.constructor={};return s[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"204b":function(e,t,s){"use strict";s("f0ed")},8418:function(e,t,s){"use strict";var r=s("c04e"),n=s("9bf2"),a=s("5c6c");e.exports=function(e,t,s){var o=r(t);o in e?n.f(e,o,a(0,s)):e[o]=s}},bccf:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"PageUser"}},[s("div",{staticClass:"user-form"},[s("h1",{staticClass:"user-form-title"},[e._v("Attuale profilo")]),s("div",{staticClass:"user-form-container"},[s("div",{staticClass:"label-group"},[s("label",{attrs:{for:"name"}},[e._v("Nome:")]),s("input",{attrs:{type:"text",id:"name",autocomplete:"off",disabled:""},domProps:{value:e.user.name}})]),e._v(" "),s("div",{staticClass:"label-group"},[s("label",{attrs:{for:"surname"}},[e._v("Cognome:")]),s("input",{attrs:{type:"text",id:"surname",autocomplete:"off",disabled:""},domProps:{value:e.user.surname}})]),e._v(" "),s("div",{staticClass:"label-group"},[s("label",{attrs:{for:"email"}},[e._v("Email:")]),s("input",{attrs:{type:"text",id:"email",autocomplete:"off",disabled:""},domProps:{value:e.user.email}})]),e._v(" "),s("div",{staticClass:"label-group"},[s("label",{attrs:{for:"date"}},[e._v("Data iscrizione:")]),s("input",{attrs:{type:"text",id:"date",autocomplete:"off",disabled:""},domProps:{value:e._f("formatDate")(e.user.date)}})]),e._v(" "),s("div",{staticClass:"refresh-btn",on:{click:e.refresh}},[e._v("Aggiorna")])])]),e._v(" "),s("div",{staticClass:"new-user-form"},[s("h1",{staticClass:"new-user-form-title"},[e._v("Aggioranare il profilo")]),s("div",{staticClass:"new-user-form-container"},[s("div",{staticClass:"label-group"},[s("label",{attrs:{for:"name"}},[e._v("Nome:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],attrs:{type:"text",id:"name",placeholder:"John",autocomplete:"off"},domProps:{value:e.newUser.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.update(t)},input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"label-group"},[s("label",{attrs:{for:"surname"}},[e._v("Cognome:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.Cognome,expression:"newUser.Cognome"}],attrs:{type:"text",id:"surname",placeholder:"Doe",autocomplete:"off"},domProps:{value:e.newUser.Cognome},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.update(t)},input:function(t){t.target.composing||e.$set(e.newUser,"Cognome",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"label-group"},[s("label",{attrs:{for:"email"}},[e._v("Email:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"text",id:"email",placeholder:"info@example.com",autocomplete:"off"},domProps:{value:e.newUser.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.update(t)},input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"label-group"},[s("label",{attrs:{for:"newPassword"}},[e._v("Nuova password:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.newPassword,expression:"newUser.newPassword"}],attrs:{type:"text",id:"newPassword",placeholder:"A secret word",autocomplete:"off"},domProps:{value:e.newUser.newPassword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.update(t)},input:function(t){t.target.composing||e.$set(e.newUser,"newPassword",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"label-group"},[s("label",{attrs:{for:"password"}},[e._v("Password attuale (obbligatoria):")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"text",id:"password",placeholder:"A secret word",autocomplete:"off"},domProps:{value:e.newUser.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.update(t)},input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"delete-btn",on:{click:e.remove}},[e._v("Elimina account")]),s("div",{staticClass:"update-btn",on:{click:e.update}},[e._v("Salva")])])])])},n=[],a=s("1da1"),o=(s("96cf"),s("d3b7"),s("ac1f"),s("5319"),s("b0c0"),s("fb6a"),s("c1df")),i=s.n(o),l={name:"PageUser",data:function(){return{user:{name:null,surname:null,email:null,date:null},newUser:{name:null,surname:null,email:null,newPassword:null,password:null}}},filters:{formatDate:function(e){return i()(String(e)).format("DD MMMM YYYY - h:mm:ss")}},methods:{onLoad:function(){var e=this;this.auth=fetch("http://localhost:8083/api/users/getuser",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.t0=e.sent,e.t1=t.status,e.abrupt("return",{data:e.t0,status:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){401===t.status?(e.$toast.warning(t.data.message),e.$router.replace({name:"PageLogin"})):400===t.status?e.$toast.error(t.data.message):e.user=t.data.message.user})).catch((function(e){return console.error(e)}))},update:function(){null!==this.newUser.name&&(this.newUser.name=this.newUser.name[0].toUpperCase()+this.newUser.name.slice(1,this.newUser.name.length)),null!==this.newUser.surname&&(this.newUser.surname=this.newUser.surname[0].toUpperCase()+this.newUser.surname.slice(1,this.newUser.surname.length)),null!==this.newUser.newPassword&&""!==this.newUser.newPassword||(this.newUser.newPassword=this.newUser.password),null!==this.newUser.name&&""!==this.newUser.name||(this.newUser.name=this.user.name),null!==this.newUser.surname&&""!==this.newUser.surname||(this.newUser.surname=this.user.surname),null!==this.newUser.email&&""!==this.newUser.email||(this.newUser.email=this.user.email),this.$store.dispatch("update",JSON.stringify(this.newUser)),this.newUser.name=null,this.newUser.surname=null,this.newUser.email=null,this.newUser.newPassword=null,this.newUser.password=null},remove:function(){this.$store.dispatch("delete",this.newUser.password)},refresh:function(){location.reload()}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onLoad();case 2:case"end":return t.stop()}}),t)})))()}},u=l,c=(s("204b"),s("2877")),d=Object(c["a"])(u,r,n,!1,null,"2dcf8190",null);t["default"]=d.exports},e8b5:function(e,t,s){var r=s("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f0ed:function(e,t,s){},fb6a:function(e,t,s){"use strict";var r=s("23e7"),n=s("861d"),a=s("e8b5"),o=s("23cb"),i=s("50c4"),l=s("fc6a"),u=s("8418"),c=s("b622"),d=s("1dde"),m=d("slice"),p=c("species"),f=[].slice,w=Math.max;r({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var s,r,c,d=l(this),m=i(d.length),v=o(e,m),h=o(void 0===t?m:t,m);if(a(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!a(s.prototype)?n(s)&&(s=s[p],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return f.call(d,v,h);for(r=new(void 0===s?Array:s)(w(h-v,0)),c=0;v<h;v++,c++)v in d&&u(r,c,d[v]);return r.length=c,r}})}}]);
//# sourceMappingURL=chunk-272bd59c.715bc654.js.map